<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Reflected XSS Demo</title>
  
</head>
<body>
  <h1>search for picture</h1>
<div>
  <!-- <form action="/searchbc" method="get">
    <label for="firstname">name of picture:</label>
    <input id="firstname" type="text" name="firstname" placeholder="firstname" />
    <label for="lastname">id:</label>
    <input id="lastname" type="text" name="lastname" placeholder="lastname" />
    <button type="submit">Search (Form)</button>

  </form>
 -->
  <a href="/search?id=1">Kontakt</a>

  <label for="firstname">name of picture:</label>
  <input id="firstname" type="text" name="firstname" placeholder="firstname" oninput="updatePreview()" />
  <label for="lastname">id:</label>
  <input id="lastname" type="text" name="lastname" placeholder="lastname" oninput="updatePreview()" />
  <button id="jsSearch" type="button" onclick="doSearch()">Search (JS onclick)</button>
  <p id="preview" aria-live="polite" style="margin-top:8px;color:#333;">Vorschau:</p>
 
  <script>
    function doSearch() {
      const f = encodeURIComponent(document.getElementById('firstname').value || '');
      const l = encodeURIComponent(document.getElementById('lastname').value || '');
      const qs = `?firstname=${f}&lastname=${l}`;
      // Navigiert zur gleichen Route wie das Formular (/searchbc) with den eingegebenen Werten
      window.location.href = '/searchbc' + qs;
    }

    function updatePreview() {
      const f = document.getElementById('firstname').value || '';
      const l = document.getElementById('lastname').value || '';
      // textContent verhindert HTML-Injection in der Vorschau
      document.getElementById('preview').textContent = `Vorschau: ${f} ${l}`;
    }
  </script>




</body>

</html>
